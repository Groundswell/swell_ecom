= f.fields_for :billing_address do |billing_address_form|
	%h5{ style: 'border-bottom: 1px solid #222;margin-top: 1.5em;font-weight: bold;' } Billing Information

	.form-group
		%label
			%span First Name
		= billing_address_form.text_field :first_name, class: 'form-control', required: true
		.help-block.with-errors

	.form-group
		%label
			%span Last Name
		= billing_address_form.text_field :last_name, class: 'form-control', required: true
		.help-block.with-errors

	.form-group
		%label
			%span Country
		- if @billing_countries.count == 1
			= billing_address_form.hidden_field :geo_country_id, value: @billing_countries.first.id
			.form-control= @billing_countries.first.name
		- else
			= billing_address_form.collection_select :geo_country_id, @billing_countries, :id, :name, { prompt: @billing_countries.count > 1 }, { class: "form-control", data: {'geostateupdate-target' => '#order_billing_address_state', 'geostateupdate-data' => { address_attribute: :billing_address }.to_json}, required: true  }
		.help-block.with-errors


	.form-group
		%label
			%span State
		= render 'swell_ecom/checkout/state_input', f: billing_address_form, states: @billing_states, id: 'order_billing_address_state'
		.help-block.with-errors
	.form-group
		%label
			%span Address Line 1
		= billing_address_form.text_field :street, class: 'form-control', required: true
		.help-block.with-errors

	.form-group
		%label
			%span Address Line 2
			%small (optional)
		= billing_address_form.text_field :street2, class: 'form-control'
		.help-block.with-errors

	.form-group
		%label
			%span City
		= billing_address_form.text_field :city, class: 'form-control', required: true
		.help-block.with-errors

	.form-group
		%label
			%span Zip
		= billing_address_form.text_field :zip, class: 'form-control', "data-stripe" => "address_zip", required: true
		.help-block.with-errors

	.form-group
		%label
			%span Phone Number
		= billing_address_form.telephone_field :phone, class: 'form-control telephone_formatted', required: true
		.help-block.with-errors

	.payment-errors.alert.alert-danger.hide

	.form-group
		%label
			%span Card Number
		= text_field_tag 'credit_card[card_number]', '', class: 'form-control', size: 20, :autocomplete => "cc-number", required: true
		.help-block.with-errors

	.row
		.col-xs-12.col-md-6
			.form-group
				%label
					%span Expiration (MM/YY)
				= text_field_tag 'credit_card[expiration]', '', class: 'form-control', :size => "9", :autocomplete => "cc-exp", required: true
				.help-block.with-errors
		.col-xs-12.col-md-6
			.form-group
				%label
					%span CVC
				= text_field_tag 'credit_card[card_code]', '', class: 'form-control', :size => "4", :autocomplete => "off", required: true
				.help-block.with-errors
