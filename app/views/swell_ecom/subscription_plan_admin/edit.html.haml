

.container-fluid
	.row
		.col-xs-10
			%ul.breadcrumb
				%li
					= link_to 'Admin', swell_media.admin_index_path
				%li
					= link_to 'Subscription Admin', subscription_plan_admin_index_path
				%li
					%strong
						Edit Subscription:
						= @plan.title
		.col-xs-2


	= form_for @plan, url: subscription_plan_admin_path( @plan ) do |f|
		.row
			.col-xs-8
				.form-group
					= f.text_field :title, class: 'form-control input-lg'


				.form-group
					= f.label :description
					= f.text_area :description, class: 'form-control wysiwyg', data: { wysiwyg: { height_min: 80, toolbar_sticky: true, toolbar_preset: 'admin_default', asset_manager: swell_media.asset_manager_index_path( asset: { parent_obj_type: @plan.class.name, parent_obj_id: @plan.id }, request_forgery_protection_token.to_s => form_authenticity_token, response: :json ) }.to_json }

				.form-group
					= f.label :content, 'Full Description'
					= f.text_area :content, class: 'form-control wysiwyg', data: { wysiwyg: { height_min: 200, toolbar_sticky: true, toolbar_preset: 'admin_default', asset_manager: swell_media.asset_manager_index_path( asset: { parent_obj_type: @plan.class.name, parent_obj_id: @plan.id }, request_forgery_protection_token.to_s => form_authenticity_token, response: :json ) }.to_json }

			.col-xs-4
				.well

					.form-group
						= f.label :price
						.input-group
							%span.input-group-addon
								$
							= f.text_field :price, value: number_with_precision( (@plan.price.to_f / 100), :precision => 2 ), class: 'form-control'
					.form-group
						= f.label :billing_interval_unit, 'Billing Interval:'
						.clearfix
						.row
							.col-xs-5
								= f.text_field :billing_interval_value, class: 'form-control'
							.col-xs-7
								= f.select :billing_interval_unit, ['months', 'days'], {}, class: 'form-control'

					.form-group
						%h4
							Trial
						.clearfix
						= f.label :trial_price, :price
						.input-group
							%span.input-group-addon
								$
							= f.text_field :trial_price, value: number_with_precision( (@plan.trial_price.to_f / 100), :precision => 2 ), class: 'form-control'
						.row
							.col-xs-5
								= f.text_field :trial_interval_value, class: 'form-control'
							.col-xs-7
								= f.select :trial_interval_unit, ['months', 'days'], {}, class: 'form-control'



					%hr

					.form-group
						= f.label :publish_at
						= f.text_field :publish_at, class: 'form-control datepicker'

					.form-group
						= f.label :status
						= f.collection_select :status, SwellEcom::SubscriptionPlan.statuses, :first, :first, {}, class: 'form-control'


					.form-group
						= f.submit 'Update', class: 'btn btn-primary'
= render 'swell_ecom/subscription_admin/edit_address_modal', args: { title: 'Shipping Address', attribute: 'shipping_address' }
= render 'swell_ecom/subscription_admin/edit_address_modal', args: { title: 'Billing Address', attribute: 'billing_address' }
